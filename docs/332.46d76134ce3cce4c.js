"use strict";(self.webpackChunktea_project=self.webpackChunktea_project||[]).push([[332],{5332:(O,s,c)=>{c.r(s),c.d(s,{ProductsModule:()=>_});var i=c(6895),n=c(646),t=c(8256),p=c(773),l=c(3763);let g=(()=>{class o{transform(r){return r&&r.length>250?r.substring(0,250)+"...":r}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275pipe=t.Yjl({name:"shortenDescription",type:o,pure:!0}),o})();function m(o,e){if(1&o&&(t.TgZ(0,"a",7),t._UZ(1,"img",8),t.qZA()),2&o){const r=t.oxw();t.xp6(1),t.s9C("src",r.product.image,t.LSH)}}const f=function(o){return["/products",o]};let h=(()=>{class o{constructor(){this.product={id:0,image:"",title:"",description:"",price:0}}ngOnInit(){}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["product-card"]],inputs:{product:"product"},decls:11,vars:8,consts:[[1,"col"],[1,"card"],["class","card-image",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-text","fs-6"],["href","#",1,"btn","btn-primary","btn-group",3,"routerLink"],[1,"card-image"],["alt","Image1",1,"card-img-top",3,"src"]],template:function(r,u){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,m,2,1,"a",2),t.TgZ(3,"div",3)(4,"h5",4),t._uU(5),t.qZA(),t.TgZ(6,"p",5),t._uU(7),t.ALo(8,"shortenDescription"),t.qZA(),t.TgZ(9,"a",6),t._uU(10,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()()),2&r&&(t.xp6(2),t.Q6J("ngIf",u.product.image),t.xp6(3),t.Oqu(u.product.title),t.xp6(2),t.Oqu(t.lcZ(8,4,u.product.description)),t.xp6(2),t.Q6J("routerLink",t.VKq(6,f,u.product.id)))},dependencies:[i.O5,n.yS,g]}),o})();function P(o,e){1&o&&t._UZ(0,"product-card",6),2&o&&t.Q6J("product",e.$implicit)}function C(o,e){1&o&&(t.TgZ(0,"div",7),t._UZ(1,"div",8),t.qZA())}function Z(o,e){1&o&&(t.TgZ(0,"div",9)(1,"p"),t._uU(2,"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),t.qZA()())}function y(o,e){if(1&o&&(t.TgZ(0,"a",7),t._UZ(1,"img",8),t.qZA()),2&o){const r=t.oxw();t.xp6(1),t.s9C("src",r.product.image,t.LSH)}}const x=function(o){return{product:o}},T=[{path:"",component:(()=>{class o{constructor(r,u,d){this.productService=r,this.router=u,this.searchService=d,this.products=[],this.loading=!1,this.searchQuery=""}ngOnInit(){this.loadProducts(),this.searchService.searchQuery$.subscribe(r=>{this.searchQuery=r,this.loadProducts(r)})}loadProducts(r){this.loading=!0,this.productService.getProducts(r).subscribe({next:u=>{this.products=u,this.loading=!1},error:u=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0442\u043e\u0432\u0430\u0440\u043e\u0432:",u),this.loading=!1}})}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(p.M),t.Y36(n.F0),t.Y36(l.o))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],decls:7,vars:4,consts:[["id","products",1,"container","py-5"],[1,"py-5","m-0","text-center","fs-2"],[1,"row","row-cols-lg-3","mb-4","g-4"],[3,"product",4,"ngFor","ngForOf"],["class","loader-bg",4,"ngIf"],["class","col-12 text-center",4,"ngIf"],[3,"product"],[1,"loader-bg"],[1,"loader"],[1,"col-12","text-center"]],template:function(r,u){1&r&&(t.TgZ(0,"article",0)(1,"h1",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,P,1,1,"product-card",3),t.YNc(5,C,2,0,"div",4),t.YNc(6,Z,3,0,"div",5),t.qZA()()),2&r&&(t.xp6(2),t.hij(" ",u.searchQuery?'\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "'+u.searchQuery+'"':"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"," "),t.xp6(2),t.Q6J("ngForOf",u.products),t.xp6(1),t.Q6J("ngIf",u.loading),t.xp6(1),t.Q6J("ngIf",!u.loading&&0===u.products.length))},dependencies:[i.sg,i.O5,h]}),o})()},{path:":id",component:(()=>{class o{constructor(r,u,d){this.activatedRoute=r,this.productService=u,this.router=d,this.product={id:0,image:"",title:"",description:"",price:0}}ngOnInit(){this.activatedRoute.params.subscribe(r=>{r.id&&this.productService.getProduct(+r.id).subscribe({next:u=>{this.product=u},error:u=>{this.router.navigate(["/"])}})})}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(n.gz),t.Y36(p.M),t.Y36(n.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product"]],decls:14,vars:7,consts:[[1,"col","product-item","container"],[1,"card-title"],[1,"card"],["class","card-image",4,"ngIf"],[1,"card-body"],[1,"card-text","fs-6"],["href","#","routerLink","/order",1,"btn","btn-primary","btn-group",3,"queryParams"],[1,"card-image"],["alt","Image1",1,"card-img-top",3,"src"]],template:function(r,u){1&r&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,y,2,1,"a",3),t.TgZ(5,"div",4)(6,"h5",1),t._uU(7),t.qZA(),t.TgZ(8,"p",5),t._uU(9),t.qZA(),t.TgZ(10,"p",5),t._uU(11),t.qZA(),t.TgZ(12,"a",6),t._uU(13,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()()()),2&r&&(t.xp6(4),t.Q6J("ngIf",u.product.image),t.xp6(3),t.Oqu(u.product.title),t.xp6(2),t.hij("\u0426\u0435\u043d\u0430: ",u.product.price," \u0440\u0443\u0431."),t.xp6(2),t.Oqu(u.product.description),t.xp6(1),t.Q6J("queryParams",t.VKq(5,x,u.product.title)))},dependencies:[i.O5,n.yS],styles:[".product-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.product-item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block;margin-top:10px}.card[_ngcontent-%COMP%]{width:600px;text-align:center}.card-img-top[_ngcontent-%COMP%]{width:35%!important}.btn[_ngcontent-%COMP%]{width:130px;justify-content:center;align-items:center}h1[_ngcontent-%COMP%]{margin-bottom:20px;font-size:20px;font-weight:200}"]}),o})()}];let a=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[n.Bz.forChild(T),n.Bz]}),o})();var A=c(4466);let _=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[i.ez,A.m,n.Bz,a,a]}),o})()}}]);