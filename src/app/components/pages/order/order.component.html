<article class="container py-5" id="order">
    <form class=" col-lg-6 row g-3 m-auto" id="form" *ngIf="!orderSuccess" [formGroup]="checkoutForm">
        <h2 class="py-5 m-0 text-center font-weight-bold fs-2">Сделать заказ</h2>
        <div class="col-md-4">
            <label for="validationCustom01" class="form-label">Имя</label>
            <input type="text" class="form-control" id="validationCustom01" formControlName="name" required>
            <div class="w-100" *ngIf="checkoutForm.get('name')?.invalid 
        && (checkoutForm.get('name')?.touched || checkoutForm.get('name')?.dirty)">
                <div class="invalid-feedback" *ngIf="checkoutForm.get('name')?.errors?.['required']">
                    Поле "Имя" обязательно для заполнения.
                </div>
                <div class="invalid-feedback" *ngIf="checkoutForm.get('name')?.errors?.['pattern']">
                    В поле "Имя" можно вводить только буквы
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <label for="validationCustom02" class="form-label">Фамилия</label>
            <input type="text" class="form-control" id="validationCustom02" formControlName="last_name" required>
            <div class="w-100" *ngIf="checkoutForm.get('last_name')?.invalid 
        && (checkoutForm.get('last_name')?.touched || checkoutForm.get('last_name')?.dirty)">
                <div class="invalid-feedback" *ngIf="checkoutForm.get('last_name')?.errors?.['required']">
                    Поле "Фамилия" обязательно для заполнения.
                </div>
                <div class="invalid-feedback" *ngIf="checkoutForm.get('last_name')?.errors?.['pattern']">
                    В поле "Фамилия" можно вводить только буквы
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <label for="validationCustomPhone" class="form-label">Телефон</label>
            <input type="text" class="form-control" id="validationCustomPhone" aria-describedby="inputGroupPrepend"
                formControlName="phone" required>
            <div class="w-100" *ngIf="checkoutForm.get('phone')?.invalid 
                && (checkoutForm.get('phone')?.touched || checkoutForm.get('phone')?.dirty)">
                <div class="invalid-feedback" *ngIf="checkoutForm.get('phone')?.errors?.['required']">
                    Поле "Телефон" обязательно для заполнения.
                </div>
                <div class="invalid-feedback" *ngIf="checkoutForm.get('phone')?.errors?.['pattern']">
                    В поле "Телефон" должно быть 11 цифр.
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <label for="validationCustom03" class="form-label">Страна</label>
            <input type="text" class="form-control" id="validationCustom03" formControlName="country" required>
            <div class="invalid-feedback" *ngIf="checkoutForm.get('country')?.invalid 
              && (checkoutForm.get('country')?.touched || checkoutForm.get('country')?.dirty)
              && checkoutForm.get('country')?.errors?.['required']">
                Поле "Страна" обязательно для заполнения.
            </div>
        </div>
        <div class="col-md-6">
            <label for="validationCustom04" class="form-label">Индекс</label>
            <input type="text" class="form-control" id="validationCustom04" formControlName="zip" required>
            <div class="invalid-feedback" *ngIf="checkoutForm.get('zip')?.invalid 
              && (checkoutForm.get('zip')?.touched || checkoutForm.get('zip')?.dirty)
              && checkoutForm.get('zip')?.errors?.['required']">
                Поле "Индекс" обязательно для заполнения.
            </div>
        </div>
        <div class="col-12">
            <label for="validationCustom05" class="form-label">Адрес</label>
            <input type="text" class="form-control" id="validationCustom05" formControlName="address" required>
            <div class="w-100" *ngIf="checkoutForm.get('address')?.invalid 
                && (checkoutForm.get('address')?.touched || checkoutForm.get('address')?.dirty)">
                <div class="invalid-feedback" *ngIf="checkoutForm.get('address')?.errors?.['required']">
                    Поле "Адрес" обязательно для заполнения.
                </div>
                <div class="invalid-feedback" *ngIf="checkoutForm.get('address')?.errors?.['pattern']">
                    Введите корректный Адрес.
                </div>
            </div>
        </div>
        <div class="col-12">
            <label for="validationCustom06" class="form-label">Товар</label>
            <input type="text" class="form-control" id="validationCustom06" [(ngModel)]="FormValues.product"
                name="product" formControlName="product">
        </div>
        <div class="col-12">
            <label for="validationCustom07" class="form-label">Комментарий к заказу</label>
            <input type="text" class="form-control" id="validationCustom07" formControlName="comment">
        </div>
        <div class="col-12">
            <button class="btn btn-primary" id="formButton" type="submit" [disabled]="checkoutForm.invalid" (click)="createOrder()">Отправить
                форму</button>
            <div *ngIf="errorMessage" class="text-danger mt-2">{{errorMessage}}</div>
        </div>
    </form>
    <div *ngIf="orderSuccess"  class="text-center mt-4">
        <h3>Спасибо за заказ!</h3>
    </div>
</article>